<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Список персонажей</title>
 <link rel="stylesheet" href="style.css">
 <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js?ver=1.3.2'></script>
</head>
<body>

<div class="cc_charlist">
 <img src="https://forumstatic.ru/files/001c/76/27/92010.svg" alt="">
 <div class="char_content">
  <!--фильтрация объектов по классу, адаптация by Alex Kolmar-->
  <script type="text/javascript">
   $(function () {
    var newSelection = "";
    $(".chars-nav a").click(function () {
     $(".all-chars").css('display', 'flex');
     $(".chars-nav a").removeClass("current");
     $(this).addClass("current");
     newSelection = $(this).attr("rel");

     // Плавное исчезновение ненужных элементов
     $(".char").not("." + newSelection).fadeOut(300);

     // Плавное появление нужных элементов с display: flex
     $("." + newSelection).fadeIn(300, function () {
      $(this).css('display', 'flex');
     });
    });
   });
  </script>
  <div class="chars-nav">
   <a rel="all" class="current">все</a>
   <a rel="aca">
    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
     <path
      d="M7.7705 2.07998C7.85287 2.13296 7.91787 2.20897 7.95743 2.29857C7.99698 2.38817 8.00935 2.48741 7.993 2.58398L7.634 4.69648C7.60521 4.86584 7.62054 5.03976 7.6785 5.20148L8.5835 7.72648C9.0235 7.81348 9.4135 7.92648 9.717 8.06498C9.9 8.14848 10.079 8.25298 10.219 8.38798C10.3595 8.52348 10.5 8.72948 10.5 8.99998C10.5 9.42398 10.1685 9.68498 9.94 9.81998C9.6785 9.97448 9.333 10.0965 8.95 10.192C8.176 10.3855 7.133 10.5 6 10.5C4.867 10.5 3.824 10.3855 3.05 10.192C2.667 10.0965 2.3215 9.97448 2.06 9.81998C1.8315 9.68498 1.5 9.42398 1.5 8.99998C1.5 8.72998 1.64 8.52348 1.781 8.38798C1.921 8.25298 2.1 8.14798 2.283 8.06498C2.587 7.92648 2.9765 7.81348 3.417 7.72598L4.647 4.29298C4.79026 3.89302 5.05715 3.54907 5.409 3.31098L7.22 2.08598C7.30105 2.03114 7.39642 2.0013 7.49428 2.00014C7.59213 1.99899 7.68817 2.02707 7.7705 2.07998ZM9.389 3.21548C9.474 3.03898 9.5025 3.01598 9.558 3.11148L9.5915 3.17548L9.611 3.21548C9.8257 3.66275 10.1546 4.04546 10.5645 4.32498L10.6775 4.39848C10.809 4.47848 10.8315 4.50148 10.7165 4.57748L10.6775 4.60198C10.255 4.86147 9.90831 5.22778 9.6725 5.66398L9.558 5.88848C9.503 5.98398 9.474 5.96098 9.389 5.78448C9.1743 5.33721 8.8454 4.9545 8.4355 4.67498L8.257 4.55998C8.1875 4.50998 8.192 4.48348 8.2835 4.42298L8.3225 4.39798C8.78422 4.11445 9.15448 3.70392 9.389 3.21548ZM3.799 1.83248L3.8335 1.89398C3.9905 2.18398 4.2275 2.43198 4.5215 2.61648L4.6345 2.68198C4.727 2.73248 4.741 2.75098 4.692 2.78448L4.6345 2.81798C4.33435 2.97859 4.08016 3.21316 3.896 3.49948L3.7955 3.67148C3.757 3.72948 3.7365 3.72448 3.7015 3.66748L3.6665 3.60648C3.5037 3.31006 3.2666 3.06108 2.9785 2.88398L2.8655 2.81798C2.773 2.76748 2.759 2.74898 2.808 2.71548L2.8655 2.68198C3.16566 2.52137 3.41985 2.2868 3.604 2.00048L3.6665 1.89398C3.7325 1.77248 3.754 1.75948 3.799 1.83248Z" />
    </svg>
    академики</a>
   <a rel="free">
    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
     <g clip-path="url(#clip0_5185_3274)">
      <path
       d="M1.76792 11.2284C1.68003 11.1907 1.59401 11.0655 1.59401 10.9755C1.59401 10.6816 1.32518 10.4062 1.03807 10.4062C0.954167 10.4062 0.821276 10.3216 0.779089 10.2415C0.731979 10.1527 0.758933 10.0118 0.838151 9.93258C0.890417 9.88031 0.938464 9.86016 1.04862 9.84469C1.23753 9.81797 1.34206 9.76547 1.44987 9.64289C1.5455 9.53438 1.59401 9.40945 1.59401 9.27234C1.59401 9.20766 1.61346 9.16547 1.67417 9.09937C1.74706 9.01992 1.76581 9.01172 1.87526 9.01172C1.98471 9.01172 2.00346 9.01992 2.07635 9.09937C2.14104 9.16992 2.15651 9.20602 2.15698 9.28687C2.15721 9.34172 2.17901 9.43406 2.20526 9.49219C2.29854 9.6982 2.45721 9.81023 2.70495 9.84492C2.82073 9.86109 2.8601 9.87844 2.9119 9.93633C3.02604 10.0634 3.02604 10.1866 2.9119 10.3137C2.86057 10.3711 2.82026 10.3889 2.70729 10.4053C2.52026 10.432 2.45768 10.4585 2.34776 10.5581C2.23315 10.6615 2.18182 10.767 2.15557 10.9516C2.1401 11.0618 2.11995 11.1098 2.06768 11.1621C1.99456 11.2352 1.85534 11.2662 1.76792 11.2284ZM5.54323 8.97352C4.10815 8.85023 2.75581 8.115 1.86378 6.97266C1.63526 6.67992 1.54714 6.46172 1.54714 6.1875C1.54714 5.91234 1.63479 5.69602 1.86706 5.39766C2.54206 4.53047 3.52198 3.87375 4.58229 3.57773C6.2276 3.11859 7.97346 3.48211 9.31737 4.56375C9.69823 4.87031 10.2003 5.42602 10.3332 5.68875C10.4037 5.82797 10.4534 6.03398 10.4534 6.1875C10.4534 6.46266 10.3657 6.67898 10.1335 6.97734C9.05346 8.36484 7.30596 9.12469 5.54323 8.97352ZM4.67604 8.00977C4.63737 7.98187 4.53331 7.88977 4.44495 7.80562C3.52128 6.92578 3.52128 5.44922 4.44495 4.56938C4.53331 4.48523 4.63737 4.39266 4.67604 4.36406L4.74635 4.3118L4.67604 4.32703C4.55909 4.35234 4.19768 4.49953 3.9612 4.61789C3.38581 4.90617 2.81534 5.37586 2.44339 5.86805C2.24065 6.13594 2.24675 6.25453 2.4776 6.54352C3.0026 7.20047 3.69143 7.69383 4.48831 7.98352C4.73745 8.07398 4.7705 8.07867 4.67604 8.00977ZM7.51667 7.97977C8.29995 7.69758 8.98268 7.20867 9.51003 6.55195C9.76737 6.23156 9.76456 6.13523 9.48846 5.79422C8.97635 5.16164 8.2901 4.67555 7.51198 4.39383C7.38823 4.34906 7.2762 4.3125 7.26284 4.3125C7.24971 4.3125 7.28979 4.3507 7.3519 4.39734C7.53143 4.53187 7.63667 4.63875 7.78807 4.83984C8.03745 5.17078 8.17596 5.52844 8.22799 5.97633C8.31237 6.70336 7.96362 7.51688 7.37909 7.95633C7.30128 8.01469 7.24878 8.0625 7.26237 8.0625C7.27596 8.0625 7.39034 8.02523 7.51667 7.97977ZM9.59675 3.71836C9.55737 3.70055 9.49714 3.6525 9.46292 3.61172C9.40174 3.5393 9.3926 3.50766 9.3626 3.26953C9.34456 3.12797 9.22925 2.90227 9.13362 2.82164C9.00917 2.71711 8.84839 2.65125 8.65948 2.62781C8.3787 2.59289 8.26198 2.48203 8.26198 2.25C8.26198 2.01797 8.3787 1.90711 8.65948 1.87219C8.84839 1.84875 9.00917 1.78289 9.13362 1.67836C9.24893 1.58133 9.3462 1.37039 9.37221 1.16133C9.40737 0.878203 9.51753 0.761719 9.75026 0.761719C9.98159 0.761719 10.0953 0.880313 10.126 1.15406C10.1731 1.57289 10.4182 1.81969 10.8389 1.87195C11.1221 1.90711 11.2385 2.01727 11.2385 2.25C11.2385 2.48273 11.1221 2.59289 10.8389 2.62805C10.4182 2.68031 10.1731 2.92711 10.126 3.34594C10.1053 3.52945 10.0688 3.60281 9.95557 3.68742C9.878 3.74531 9.69167 3.76148 9.59675 3.71836Z" />
     </g>
     <defs>
      <clipPath id="clip0_5185_3274">
       <rect width="12" height="12" fill="white" />
      </clipPath>
     </defs>
    </svg>
    вольные маги</a>
   <a rel="other">
    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
     <path
      d="M6.00781 6C5.45781 6 4.98698 5.80417 4.59531 5.4125C4.20365 5.02083 4.00781 4.55 4.00781 4C4.00781 3.45 4.20365 2.97917 4.59531 2.5875C4.98698 2.19583 5.45781 2 6.00781 2C6.55781 2 7.02864 2.19583 7.42031 2.5875C7.81198 2.97917 8.00781 3.45 8.00781 4C8.00781 4.55 7.81198 5.02083 7.42031 5.4125C7.02864 5.80417 6.55781 6 6.00781 6ZM2.00781 9V8.6C2.00781 8.31667 2.08081 8.05633 2.22681 7.819C2.37281 7.58167 2.56648 7.40033 2.80781 7.275C3.32448 7.01667 3.84948 6.823 4.38281 6.694C4.91615 6.565 5.45781 6.50033 6.00781 6.5C6.55781 6.49967 7.09948 6.56433 7.63281 6.694C8.16614 6.82367 8.69114 7.01733 9.20781 7.275C9.44948 7.4 9.64331 7.58133 9.78931 7.819C9.93531 8.05667 10.0081 8.317 10.0078 8.6V9C10.0078 9.275 9.90998 9.5105 9.71431 9.7065C9.51864 9.9025 9.28314 10.0003 9.00781 10H3.00781C2.73281 10 2.49748 9.90217 2.30181 9.7065C2.10615 9.51083 2.00815 9.27533 2.00781 9Z" />
    </svg>
    прочие</a>
   <a rel="prim">
    <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
     <path
      d="M9.75 5.4625L9.05 6.15C8.95833 6.24167 8.84383 6.28967 8.7065 6.294C8.56917 6.29833 8.45033 6.25033 8.35 6.15C8.25833 6.05833 8.2125 5.94167 8.2125 5.8C8.2125 5.65833 8.25833 5.54167 8.35 5.45L9.0375 4.75L8.35 4.0625C8.25833 3.97083 8.2125 3.85633 8.2125 3.719C8.2125 3.58167 8.25833 3.46283 8.35 3.3625C8.45 3.2625 8.56883 3.2125 8.7065 3.2125C8.84417 3.2125 8.96283 3.2625 9.0625 3.3625L9.75 4.05L10.4375 3.35C10.5292 3.25 10.6437 3.2 10.781 3.2C10.9183 3.2 11.0372 3.25 11.1375 3.35C11.2378 3.45 11.2878 3.56883 11.2875 3.7065C11.2872 3.84417 11.2372 3.96283 11.1375 4.0625L10.45 4.75L11.15 5.45C11.25 5.55 11.2978 5.66667 11.2935 5.8C11.2892 5.93333 11.2372 6.05 11.1375 6.15C11.0375 6.24167 10.9208 6.28967 10.7875 6.294C10.6542 6.29833 10.5375 6.25033 10.4375 6.15L9.75 5.4625ZM4.5 6C3.95 6 3.47917 5.80417 3.0875 5.4125C2.69583 5.02083 2.5 4.55 2.5 4C2.5 3.45 2.69583 2.97917 3.0875 2.5875C3.47917 2.19583 3.95 2 4.5 2C5.05 2 5.52083 2.19583 5.9125 2.5875C6.30417 2.97917 6.5 3.45 6.5 4C6.5 4.55 6.30417 5.02083 5.9125 5.4125C5.52083 5.80417 5.05 6 4.5 6ZM0.5 9V8.6C0.5 8.31667 0.573 8.05633 0.719 7.819C0.865 7.58167 1.05867 7.40033 1.3 7.275C1.81667 7.01667 2.34167 6.823 2.875 6.694C3.40833 6.565 3.95 6.50033 4.5 6.5C5.05 6.49967 5.59167 6.56433 6.125 6.694C6.65833 6.82367 7.18333 7.01733 7.7 7.275C7.94167 7.4 8.1355 7.58133 8.2815 7.819C8.4275 8.05667 8.50033 8.317 8.5 8.6V9C8.5 9.275 8.40217 9.5105 8.2065 9.7065C8.01083 9.9025 7.77533 10.0003 7.5 10H1.5C1.225 10 0.989667 9.90217 0.794 9.7065C0.598333 9.51083 0.500333 9.27533 0.5 9Z" />
    </svg>
    не знают о магии</a>
  </div>
  <ul class="all-chars">
   <li class="aca all char">
    <img src="" alt="">
    <div class="chartext">
     <div class="chname">
      <a href="">Redem Cognomen</a>
      <span>40 лет</span>
     </div>
     <p>заместитель заместителя по замещению в академии</p>
     <div class="ch_twins">
      <span>Твины</span>
      <div class="tw_list">
       <a href="ссылка">твин 1</a>
       <a href="ссылка">твин 2</a>
      </div>
     </div>
     <div class="chico" title="академик">
      <img src="https://forumstatic.ru/files/001c/76/27/67831.svg" alt="">
     </div>
    </div>
   </li>
   <li class="other all char">
    <img src="" alt="">
    <div class="chartext">
     <div class="chname">
      <a href="">Имя Фамилия</a>
      <span>30 лет</span>
     </div>
     <p>модель</p>
     <div class="ch_twins">
      <span>Твины</span>
      <div class="tw_list">
       <a href="ссылка">твин 1</a>
       <a href="ссылка">твин 2</a>
      </div>
     </div>
     <div class="chico">
      <img src="https://forumstatic.ru/files/001c/76/27/33796.svg" alt="">
     </div>
    </div>
   </li>
   <li class="prim all char">

   </li>
   <li class="free all char">

   </li>
   <li class="free all char">

   </li>
   <li class="other edu all char">

   </li>
   <li class="aca all char">

   </li>
   <li class="free all char">

   </li>
   <li class="aca edu all char">

   </li>
  </ul>
 </div>
</div>
 
<script>
// Функция инициализации
function initTwinsDropdown() {
  // Находим все блоки с твинами
  const twinsBlocks = document.querySelectorAll('.ch_twins');
  
  if (twinsBlocks.length === 0) {
    console.log('Блоки .ch_twins не найдены');
    return;
  }
  
  twinsBlocks.forEach(function(block) {
    const toggleSpan = block.querySelector('span');
    const list = block.querySelector('.tw_list');
    
    if (!toggleSpan || !list) {
      console.log('Не найдены span или .tw_list в блоке');
      return;
    }
    
    // Сначала скрываем список
    list.style.display = 'none';
    
    // Клик по заголовку
    toggleSpan.addEventListener('click', function(e) {
      e.stopPropagation();
      
      // Закрываем все другие открытые списки
      document.querySelectorAll('.tw_list').forEach(function(otherList) {
        if (otherList !== list && otherList.style.display === 'block') {
          otherList.style.display = 'none';
          otherList.previousElementSibling.classList.remove('active');
        }
      });
      
      // Переключаем текущий список
      const isOpen = list.style.display === 'block';
      list.style.display = isOpen ? 'none' : 'block';
      toggleSpan.classList.toggle('active', !isOpen);
    });
  });
  
  // Закрытие при клике вне
  document.addEventListener('click', function() {
    document.querySelectorAll('.tw_list').forEach(function(list) {
      list.style.display = 'none';
      if (list.previousElementSibling) {
        list.previousElementSibling.classList.remove('active');
      }
    });
  });
}

// Запускаем когда документ готов
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initTwinsDropdown);
} else {
  initTwinsDropdown();
}
</script>

</body>
</html>