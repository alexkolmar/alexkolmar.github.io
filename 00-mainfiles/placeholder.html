<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Placeholder Link Generator</title>
<style>
    body { font-family: sans-serif; padding: 20px; max-width: 500px; margin: auto; }
    input { margin: 5px 0; padding: 5px; width: 100%; box-sizing: border-box; }
    label { font-weight: bold; display: block; margin-top: 10px; }
    button { margin-top: 15px; padding: 8px 12px; cursor: pointer; }
    .output { margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #f9f9f9; }
    code { display: block; background: #eee; padding: 5px; margin-top: 5px; white-space: pre-wrap; }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<script>
function getParams() {
    const params = new URLSearchParams(window.location.search);
    return {
        w: parseInt(params.get('w')) || 400,
        h: parseInt(params.get('h')) || 300,
        bg: '#' + (params.get('bg') || 'cccccc'),
        fg: '#' + (params.get('fg') || '333333'),
        txt: params.get('txt') || ''
    };
}

function generatePlaceholder({w, h, bg, fg, txt}) {
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = w;
    canvas.height = h;

    // фон
    ctx.fillStyle = bg;
    ctx.fillRect(0, 0, w, h);

    // текст
    ctx.fillStyle = fg;
    ctx.font = `${Math.floor(w/10)}px Arial`;
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.fillText(txt || `${w}×${h}`, w / 2, h / 2);

    // вывод в <body> как <img>
    const img = new Image();
    img.src = canvas.toDataURL("image/png");
    document.body.innerHTML = '';
    document.body.appendChild(img);
}

generatePlaceholder(getParams());
</script>
</body>
</html>
