<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Placeholder Link Generator</title>
<style>
    body { font-family: sans-serif; padding: 20px; max-width: 500px; margin: auto; }
    input { margin: 5px 0; padding: 5px; width: 100%; box-sizing: border-box; }
    label { font-weight: bold; display: block; margin-top: 10px; }
    button { margin-top: 15px; padding: 8px 12px; cursor: pointer; }
    .output { margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #f9f9f9; }
    code { display: block; background: #eee; padding: 5px; margin-top: 5px; white-space: pre-wrap; }
</style>
</head>
<body>
<h1>Placeholder Link Generator</h1>

<label>Width (px)</label>
<input type="number" id="width" value="400">

<label>Height (px)</label>
<input type="number" id="height" value="300">

<label>Background Color (hex without #)</label>
<input type="text" id="bg" value="cccccc">

<label>Text Color (hex without #)</label>
<input type="text" id="fg" value="333333">

<label>Text (optional)</label>
<input type="text" id="txt" placeholder="Leave empty to use size">

<button onclick="generate()">Generate Link</button>

<div class="output" id="output" style="display:none;">
    <p><strong>Preview:</strong></p>
    <img id="preview" alt="placeholder preview" style="max-width:100%; border:1px solid #ccc;">
    
    <p><strong>Direct Link:</strong></p>
    <code id="direct"></code>
    
    <p><strong>HTML Code:</strong></p>
    <code id="htmlcode"></code>
</div>

<script>
const baseURL = "https://alexkolmar.github.io/00-mainfiles/placeholder.html";

function generate() {
    const w = document.getElementById('width').value || 400;
    const h = document.getElementById('height').value || 300;
    const bg = document.getElementById('bg').value || 'cccccc';
    const fg = document.getElementById('fg').value || '333333';
    const txt = document.getElementById('txt').value.trim() || `${w}×${h}`;
    
    const url = `${baseURL}?w=${w}&h=${h}&bg=${bg}&fg=${fg}&txt=${encodeURIComponent(txt)}`;

    // Превью рисуем локально
    const canvas = document.createElement('canvas');
    canvas.width = w;
    canvas.height = h;
    const ctx = canvas.getContext('2d');

    ctx.fillStyle = '#' + bg;
    ctx.fillRect(0, 0, w, h);

    ctx.fillStyle = '#' + fg;
    ctx.font = `${Math.floor(w/10)}px Arial`;
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.fillText(txt, w / 2, h / 2);

    document.getElementById('preview').src = canvas.toDataURL("image/png");
    document.getElementById('direct').textContent = url;
    document.getElementById('htmlcode').textContent = `<img src="${url}" alt="Placeholder">`;
    document.getElementById('output').style.display = 'block';
}
</script>
</body>
</html>
